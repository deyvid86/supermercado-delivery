<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Delivery Supermercado</title>
  <style>
    /* estilos mantidos aqui */
  </style>
</head>
<body>
  <header>
    <h1>Supermercado Delivery</h1>
    <input type="text" id="busca" placeholder="Buscar produto..." />
    <button id="botao-carrinho" title="Ver carrinho">
      üõí <span id="badge-carrinho">0</span>
    </button>
  </header>
  <nav id="categorias"></nav>
  <main>
    <section id="filtros">
      <select id="filtro-categoria">
        <option value="Todas">Todas as categorias</option>
      </select>
    </section>
    <section id="produtos"></section>
    <aside id="carrinho-container" tabindex="0" aria-label="Carrinho de compras">
      <h2>
        Carrinho
        <button id="fechar-carrinho" aria-label="Fechar carrinho">√ó</button>
      </h2>
      <div id="itens-carrinho"></div>
      <div id="total">Total: R$ 0.00</div>
      <button id="limpar-carrinho">Limpar carrinho</button>
      <form id="form-pedido" onsubmit="return false;">
        <input type="text" id="nome" placeholder="Seu nome" required />
        <input type="text" id="endereco" placeholder="Endere√ßo para entrega" required />
        <select id="pagamento" onchange="mostrarTroco()" required>
          <option value="" disabled selected>Forma de pagamento</option>
          <option value="pix">PIX</option>
          <option value="cartao">Cart√£o</option>
          <option value="dinheiro">Dinheiro</option>
        </select>
        <div id="troco-container">
          <input type="number" id="troco" placeholder="Troco para quanto?" min="0" step="0.01" />
        </div>
        <div class="form-buttons">
          <button type="button" id="btn-whatsapp" onclick="enviarWhatsApp()">Enviar pedido pelo WhatsApp</button>
        </div>
      </form>
    </aside>
  </main>
  <script>
    // Produtos
    const produtos = [
      { id: 1, nome: "Arroz 5kg", preco: 20.99, categoria: "Gr√£os", imagem: "https://cdn-icons-png.flaticon.com/512/2913/2913461.png" },
      { id: 2, nome: "Feij√£o Carioca 1kg", preco: 7.50, categoria: "Gr√£os", imagem: "https://cdn-icons-png.flaticon.com/512/4339/4339002.png" },
      { id: 3, nome: "Leite Integral 1L", preco: 4.89, categoria: "Latic√≠nios", imagem: "https://cdn-icons-png.flaticon.com/512/616/616408.png" },
      { id: 4, nome: "P√£o Franc√™s (unidade)", preco: 0.80, categoria: "Padaria", imagem: "https://cdn-icons-png.flaticon.com/512/2746/2746564.png" },
      { id: 5, nome: "Banana Nanica (kg)", preco: 5.50, categoria: "Frutas", imagem: "https://cdn-icons-png.flaticon.com/512/415/415733.png" },
      { id: 6, nome: "Tomate (kg)", preco: 6.00, categoria: "Legumes", imagem: "https://cdn-icons-png.flaticon.com/512/2913/2913713.png" },
      { id: 7, nome: "Detergente L√≠quido 500ml", preco: 3.99, categoria: "Limpeza", imagem: "https://cdn-icons-png.flaticon.com/512/1246/1246489.png" },
      { id: 8, nome: "Sabonete 90g", preco: 1.50, categoria: "Higiene", imagem: "https://cdn-icons-png.flaticon.com/512/2913/2913706.png" },
      { id: 9, nome: "Caf√© Torrado 500g", preco: 15.00, categoria: "Bebidas", imagem: "https://cdn-icons-png.flaticon.com/512/2731/2731535.png" }
    ];

    const filtroCategoria = document.getElementById('filtro-categoria');
    const buscaInput = document.getElementById('busca');

    function atualizarFiltroCategorias() {
      const categorias = [...new Set(produtos.map(p => p.categoria))];
      categorias.forEach(cat => {
        const option = document.createElement('option');
        option.value = cat;
        option.textContent = cat;
        filtroCategoria.appendChild(option);
      });
    }

    filtroCategoria.addEventListener('change', () => {
      filtrarProdutos();
    });

    buscaInput.addEventListener('input', () => {
      filtrarProdutos();
    });

    function filtrarProdutos() {
      const termo = buscaInput.value.toLowerCase();
      const categoriaSelecionada = filtroCategoria.value;
      const listaFiltrada = produtos.filter(p => {
        const correspondeBusca = p.nome.toLowerCase().includes(termo);
        const correspondeCategoria = categoriaSelecionada === "Todas" || p.categoria === categoriaSelecionada;
        return correspondeBusca && correspondeCategoria;
      });
      mostrarProdutos(listaFiltrada);
    }

    atualizarFiltroCategorias();
    mostrarProdutos(produtos);

    <script>
  // (‚Ä¶ c√≥digo atual que voc√™ j√° tem ‚Ä¶)

  function mostrarProdutos(lista) {
    const container = document.getElementById('produtos');
    container.innerHTML = ''; // limpa os produtos antigos

    if (lista.length === 0) {
      container.innerHTML = '<p>Nenhum produto encontrado.</p>';
      return;
    }

    lista.forEach(produto => {
      const div = document.createElement('div');
      div.className = 'produto';
      div.innerHTML = `
        <img src="${produto.imagem}" alt="${produto.nome}" width="100">
        <h3>${produto.nome}</h3>
        <p>R$ ${produto.preco.toFixed(2)}</p>
        <button onclick="adicionarAoCarrinho(${produto.id})">Adicionar</button>
      `;
      container.appendChild(div);
    });
  }

  function mostrarTroco() {
    const metodo = document.getElementById("pagamento").value;
    const trocoContainer = document.getElementById("troco-container");
    trocoContainer.style.display = metodo === "dinheiro" ? "block" : "none";
  }

  // Adicione a fun√ß√£o adicionarAoCarrinho tamb√©m se ainda n√£o tiver:
  function adicionarAoCarrinho(idProduto) {
    // Aqui voc√™ pode implementar sua l√≥gica para adicionar produtos ao carrinho
    alert(`Produto com ID ${idProduto} adicionado ao carrinho (simula√ß√£o)`);
  }
</script>
</body>
</html>
